/* Geo + I18N compactado em um único arquivo e uma única API global:
   window.FormGeoI18n
*/
(function (root) {
  // ==== 1) DICIONÁRIOS DE IDIOMA (mesmo conteúdo que você já tem) ====
  const Translations = {
    'pt-BR': {
      stepTitles: ['Dados Pessoais', 'Endereço', 'Segurança'],
      stepSubtitles: [
        'Preencha suas informações básicas',
        'Informe seu endereço completo',
        'Crie sua senha de acesso'
      ],
      fullName: 'Nome Completo',
      phone: 'Telefone',
      email: 'E-mail',
      birthdate: 'Data de Nascimento',
      company: 'Empresa',
      country: 'País',
      postalCode: 'CEP',
      address: 'Endereço',
      addressNumber: 'Número',
      neighborhood: 'Bairro',
      complement: 'Complemento',
      city: 'Cidade',
      state: 'Estado',
      password: 'Senha',
      confirmPassword: 'Confirmar Senha',
      fullNamePlaceholder: 'Digite seu nome completo',
      emailPlaceholder: 'seu@email.com',
      birthdatePlaceholder: 'DD/MM/AAAA',
      postalCodePlaceholder: '00000-000',
      addressPlaceholder: 'Rua, Avenida, etc.',
      numberPlaceholder: 'Nº',
      neighborhoodPlaceholder: 'Bairro',
      complementPlaceholder: 'Apto, Bloco, etc.',
      cityPlaceholder: 'Cidade',
      statePlaceholder: 'Selecione um estado',
      legalPerson: 'Sou Pessoa Jurídica (usar CNPJ)',
      nextButton: 'Próximo',
      prevButton: 'Voltar',
      finishButton: 'Finalizar',
      summaryPersonalData: 'Seus Dados Pessoais',
      summaryPersonalDataTitle: 'Dados Pessoais',
      summaryAddressTitle: 'Endereço',
      validating: 'Validando...',
      errorRequired: 'Este campo é obrigatório.',
      errorEmail: 'E-mail inválido.',
      errorFullName: 'Por favor, insira nome e sobrenome',
      errorCep: 'CEP inválido. Verifique e tente novamente.',
      errorCepFetch: 'Erro ao buscar CEP. Tente novamente.',
      errorEmailExists: 'E-mail já cadastrado.',
      errorCpfExists: 'CPF já cadastrado.',
      errorNetwork: 'Erro de validação. Tente novamente.'
    },
    'en-US': {
      stepTitles: ['Personal Information', 'Address', 'Security'],
      stepSubtitles: [
        'Fill in your basic information',
        'Enter your complete address',
        'Create your access password'
      ],
      fullName: 'Full Name',
      phone: 'Phone',
      email: 'Email',
      birthdate: 'Date of Birth',
      company: 'Company',
      country: 'Country',
      postalCode: 'Zip Code',
      address: 'Address',
      addressNumber: 'Number',
      neighborhood: 'Neighborhood',
      complement: 'Complement',
      city: 'City',
      state: 'State',
      password: 'Password',
      confirmPassword: 'Confirm Password',
      fullNamePlaceholder: 'Enter your full name',
      emailPlaceholder: 'your@email.com',
      birthdatePlaceholder: 'MM/DD/YYYY',
      postalCodePlaceholder: 'e.g., 90210',
      addressPlaceholder: 'Street, Avenue, etc.',
      numberPlaceholder: 'No.',
      neighborhoodPlaceholder: 'Neighborhood',
      complementPlaceholder: 'Apt, Unit, etc.',
      cityPlaceholder: 'City',
      statePlaceholder: 'Select a state',
      legalPerson: 'I am a Legal Entity (use EIN)',
      nextButton: 'Next',
      prevButton: 'Back',
      finishButton: 'Finish',
      summaryPersonalData: 'Your Personal Information',
      summaryPersonalDataTitle: 'Personal Information',
      summaryAddressTitle: 'Address',
      validating: 'Validating...',
      errorRequired: 'This field is required.',
      errorEmail: 'Invalid email.',
      errorFullName: 'Please enter first and last name',
      errorCep: 'Invalid ZIP code. Please verify and try again.',
      errorCepFetch: 'Error fetching ZIP code. Please try again.',
      errorEmailExists: 'Email already exists.',
      errorCpfExists: 'SSN already exists.',
      errorNetwork: 'Validation error. Please try again.'
    },
    'es-ES': {
      stepTitles: ['Datos Personales', 'Dirección', 'Seguridad'],
      stepSubtitles: [
        'Complete su información básica',
        'Ingrese su dirección completa',
        'Cree su contraseña de acceso'
      ],
      fullName: 'Nombre Completo',
      phone: 'Teléfono',
      email: 'Correo Electrónico',
      birthdate: 'Fecha de Nacimiento',
      company: 'Empresa',
      country: 'País',
      postalCode: 'Código Postal',
      address: 'Dirección',
      addressNumber: 'Número',
      neighborhood: 'Barrio',
      complement: 'Complemento',
      city: 'Ciudad',
      state: 'Estado',
      password: 'Contraseña',
      confirmPassword: 'Confirmar Contraseña',
      fullNamePlaceholder: 'Ingrese su nombre completo',
      emailPlaceholder: 'su@email.com',
      birthdatePlaceholder: 'DD/MM/AAAA',
      postalCodePlaceholder: '00000',
      addressPlaceholder: 'Calle, Avenida, etc.',
      numberPlaceholder: 'Nº',
      neighborhoodPlaceholder: 'Barrio',
      complementPlaceholder: 'Piso, Depto, etc.',
      cityPlaceholder: 'Ciudad',
      statePlaceholder: 'Seleccione un estado',
      legalPerson: 'Soy Persona Jurídica (usar CIF)',
      nextButton: 'Siguiente',
      prevButton: 'Volver',
      finishButton: 'Finalizar',
      summaryPersonalData: 'Sus Datos Personales',
      summaryPersonalDataTitle: 'Datos Personales',
      summaryAddressTitle: 'Dirección',
      validating: 'Validando...',
      errorRequired: 'Este campo es obligatorio.',
      errorEmail: 'Correo electrónico inválido.',
      errorFullName: 'Por favor, ingrese nombre y apellido',
      errorCep: 'Código postal inválido. Verifique e intente nuevamente.',
      errorCepFetch: 'Error al buscar código postal. Intente nuevamente.',
      errorEmailExists: 'Correo ya registrado.',
      errorCpfExists: 'Documento ya registrado.',
      errorNetwork: 'Error de validación. Intente nuevamente.'
    },
    'pt-PT': {
      stepTitles: ['Dados Pessoais', 'Morada', 'Segurança'],
      stepSubtitles: [
        'Preencha as suas informações básicas',
        'Indique a sua morada completa',
        'Crie a sua palavra-passe de acesso'
      ],
      fullName: 'Nome Completo',
      phone: 'Telefone',
      email: 'E-mail',
      birthdate: 'Data de Nascimento',
      company: 'Empresa',
      country: 'País',
      postalCode: 'Código Postal',
      address: 'Morada',
      addressNumber: 'Número',
      neighborhood: 'Freguesia',
      complement: 'Complemento',
      city: 'Cidade',
      state: 'Distrito',
      password: 'Palavra-passe',
      confirmPassword: 'Confirmar Palavra-passe',
      fullNamePlaceholder: 'Introduza o seu nome completo',
      emailPlaceholder: 'seu@email.com',
      birthdatePlaceholder: 'DD/MM/AAAA',
      postalCodePlaceholder: '0000-000',
      addressPlaceholder: 'Rua, Avenida, etc.',
      numberPlaceholder: 'Nº',
      neighborhoodPlaceholder: 'Freguesia',
      complementPlaceholder: 'Andar, Porta, etc.',
      cityPlaceholder: 'Cidade',
      statePlaceholder: 'Selecione um distrito',
      legalPerson: 'Sou Pessoa Coletiva (usar NIPC)',
      nextButton: 'Seguinte',
      prevButton: 'Voltar',
      finishButton: 'Finalizar',
      summaryPersonalData: 'Os Seus Dados Pessoais',
      summaryPersonalDataTitle: 'Dados Pessoais',
      summaryAddressTitle: 'Morada',
      validating: 'A validar...',
      errorRequired: 'Este campo é obrigatório.',
      errorEmail: 'E-mail inválido.',
      errorFullName: 'Por favor, introduza nome e apelido',
      errorCep: 'Código postal inválido. Verifique e tente novamente.',
      errorCepFetch: 'Erro ao buscar código postal. Tente novamente.',
      errorEmailExists: 'E-mail já existente.',
      errorCpfExists: 'NIF já existente.',
      errorNetwork: 'Erro de validação. Tente novamente.'
    },
    'fr-FR': {
      stepTitles: ['Données Personnelles', 'Adresse', 'Sécurité'],
      stepSubtitles: [
        'Remplissez vos informations de base',
        'Entrez votre adresse complète',
        'Créez votre mot de passe d\'accès'
      ],
      fullName: 'Nom Complet',
      phone: 'Téléphone',
      email: 'E-mail',
      birthdate: 'Date de Naissance',
      company: 'Entreprise',
      country: 'Pays',
      postalCode: 'Code Postal',
      address: 'Adresse',
      addressNumber: 'Numéro',
      neighborhood: 'Quartier',
      complement: 'Complément',
      city: 'Ville',
      state: 'Région',
      password: 'Mot de passe',
      confirmPassword: 'Confirmer le mot de passe',
      fullNamePlaceholder: 'Entrez votre nom complet',
      emailPlaceholder: 'votre@email.com',
      birthdatePlaceholder: 'JJ/MM/AAAA',
      postalCodePlaceholder: '00000',
      addressPlaceholder: 'Rue, Avenue, etc.',
      numberPlaceholder: 'Nº',
      neighborhoodPlaceholder: 'Quartier',
      complementPlaceholder: 'Apt, Bât, etc.',
      cityPlaceholder: 'Ville',
      statePlaceholder: 'Sélectionnez une région',
      legalPerson: 'Je suis une Personne Morale (utiliser SIRET)',
      nextButton: 'Suivant',
      prevButton: 'Retour',
      finishButton: 'Terminer',
      summaryPersonalData: 'Vos Données Personnelles',
      summaryPersonalDataTitle: 'Données Personnelles',
      summaryAddressTitle: 'Adresse',
      validating: 'Validation...',
      errorRequired: 'Ce champ est obligatoire.',
      errorEmail: 'E-mail invalide.',
      errorFullName: 'Veuillez entrer le prénom et le nom',
      errorCep: 'Code postal invalide. Veuillez vérifier et réessayer.',
      errorCepFetch: 'Erreur lors de la récupération du code postal. Veuillez réessayer.',
      errorEmailExists: 'E-mail déjà enregistré.',
      errorCpfExists: 'ID déjà enregistré.',
      errorNetwork: 'Erreur de validation. Veuillez réessayer.'
    }
  };

  // ==== 2) PAÍS → IDIOMA PADRÃO ====
  const LangByCountry = {
    BR: 'pt-BR', PT: 'pt-PT',
    US: 'en-US', GB: 'en-US', CA: 'en-US',
    ES: 'es-ES', MX: 'es-ES', AR: 'es-ES', CL: 'es-ES',
    FR: 'fr-FR',
    DE: 'en-US', IT: 'en-US', JP: 'en-US', AU: 'en-US'
    // adicione à vontade
  };

  // ==== 3) RÓTULOS DE DOCUMENTOS POR PAÍS ====
  const DocLabels = {
    BR: { person:{label:'CPF', ph:'000.000.000-00'},     company:{label:'CNPJ', ph:'00.000.000/0000-00'} },
    US: { person:{label:'SSN', ph:'000-00-0000'},        company:{label:'EIN',  ph:'00-0000000'} },
    PT: { person:{label:'NIF', ph:'000000000'},          company:{label:'NIPC', ph:'000000000'} },
    ES: { person:{label:'DNI', ph:'00000000A'},          company:{label:'CIF',  ph:'A00000000'} },
    AR: { person:{label:'DNI', ph:'00.000.000'},         company:{label:'CUIT', ph:'00-00000000-0'} },
    MX: { person:{label:'CURP',ph:'AAAA000000AAAAAA00'}, company:{label:'RFC',  ph:'AAA000000AA0'} },
    DEFAULT: { person:{label:'ID', ph:''}, company:{label:'Business ID', ph:''} }
  };

  // ==== 4) ESTADOS/PROVÍNCIAS ====
  const States = {
    US: {"AL":"Alabama","AK":"Alaska","AZ":"Arizona","AR":"Arkansas","CA":"California","CO":"Colorado","CT":"Connecticut","DE":"Delaware","FL":"Florida","GA":"Georgia","HI":"Hawaii","ID":"Idaho","IL":"Illinois","IN":"Indiana","IA":"Iowa","KS":"Kansas","KY":"Kentucky","LA":"Louisiana","ME":"Maine","MD":"Maryland","MA":"Massachusetts","MI":"Michigan","MN":"Minnesota","MS":"Mississippi","MO":"Missouri","MT":"Montana","NE":"Nebraska","NV":"Nevada","NH":"New Hampshire","NJ":"New Jersey","NM":"New Mexico","NY":"New York","NC":"North Carolina","ND":"North Dakota","OH":"Ohio","OK":"Oklahoma","OR":"Oregon","PA":"Pennsylvania","RI":"Rhode Island","SC":"South Carolina","SD":"South Dakota","TN":"Tennessee","TX":"Texas","UT":"Utah","VT":"Vermont","VA":"Virginia","WA":"Washington","WV":"West Virginia","WI":"Wisconsin","WY":"Wyoming"},
    BR: {"AC":"Acre","AL":"Alagoas","AP":"Amapá","AM":"Amazonas","BA":"Bahia","CE":"Ceará","DF":"Distrito Federal","ES":"Espírito Santo","GO":"Goiás","MA":"Maranhão","MT":"Mato Grosso","MS":"Mato Grosso do Sul","MG":"Minas Gerais","PA":"Pará","PB":"Paraíba","PR":"Paraná","PE":"Pernambuco","PI":"Piauí","RJ":"Rio de Janeiro","RN":"Rio Grande do Norte","RS":"Rio Grande do Sul","RO":"Rondônia","RR":"Roraima","SC":"Santa Catarina","SP":"São Paulo","SE":"Sergipe","TO":"Tocantins"}
    // adicione outros países se quiser
  };

  // ==== 5) DÍGITOS DE TELEFONE ====
  const PhoneMaxDigits = { US:10, CA:10, BR:11, GB:10, FR:9, DE:11, IN:10, MX:10, AU:9, JP:10, PT:9 };

  // ==== 6) API ÚNICA ====
  const API = {
    getTranslation(lang){ return Translations[lang] || Translations['en-US']; },
    getCountryLanguage(countryCode){ return LangByCountry[countryCode] || 'en-US'; },
    getDocLabels(countryCode){ return DocLabels[countryCode] || DocLabels.DEFAULT; },
    getStates(countryCode){ return States[countryCode] || {}; },
    getPhoneMaxDigits(countryCode){ return PhoneMaxDigits[countryCode] || 15; }
  };

  root.FormGeoI18n = API;
})(window);
